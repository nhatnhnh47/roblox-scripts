-- fix_lag_script.lua

--// Notification
pcall(function()
    game.StarterGui:SetCore("SendNotification", {
        Title = "‚úÖ FIX LAG ƒê√É K√çCH HO·∫†T",
        Text = "Script t·ªëi ∆∞u hi·ªáu su·∫•t!",
        Duration = 5
    })
end)

--// C·∫•u h√¨nh c∆° b·∫£n
setfpscap(60)
settings().Rendering.QualityLevel = Enum.QualityLevel.Level01

--// T·∫Øt hi·ªáu ·ª©ng √°nh s√°ng
local Lighting = game:GetService("Lighting")
Lighting.GlobalShadows = false
Lighting.FogEnd = 1e10
Lighting.Brightness = 1
for _, v in ipairs(Lighting:GetDescendants()) do
    if v:IsA("PostEffect") then
        v.Enabled = false
    end
end

--// Xo√° hi·ªáu ·ª©ng Particles
for _, v in ipairs(workspace:GetDescendants()) do
    if v:IsA("ParticleEmitter") or v:IsA("Trail") or v:IsA("Smoke") or v:IsA("Fire") then
        v:Destroy()
    end
end

--// T·∫°o UI hi·ªÉn th·ªã FPS + Ping
local ScreenGui = Instance.new("ScreenGui", game.CoreGui)
ScreenGui.Name = "FixLagDisplay"

local Label = Instance.new("TextLabel", ScreenGui)
Label.Size = UDim2.new(0, 250, 0, 25)
Label.Position = UDim2.new(0, 10, 0, 10)
Label.BackgroundTransparency = 0.4
Label.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
Label.TextColor3 = Color3.fromRGB(0, 255, 0)
Label.Font = Enum.Font.SourceSansBold
Label.TextSize = 18
Label.TextXAlignment = Enum.TextXAlignment.Left
Label.Text = "Loading..."

--// C·∫≠p nh·∫≠t FPS v√† Ping
local RunService = game:GetService("RunService")
local Stats = game:GetService("Stats")
local PingStat = Stats:FindFirstChild("PerformanceStats"):FindFirstChild("Ping")

local lastTick = tick()
RunService.Heartbeat:Connect(function()
    local currentTick = tick()
    local fps = math.floor(1 / (currentTick - lastTick))
    lastTick = currentTick

    local ping = PingStat and math.floor(PingStat:GetValue()) or 0
    Label.Text = string.format("üéÆ FPS: %d | üì∂ Ping: %d ms", fps, ping)
end)
